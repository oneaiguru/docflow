# Основы документа

В этой папке приведено краткое описание того, что понимается под документом в контексте Docflow. Рассмотрены типовые расширения и опциональные части описания, которые помогают генерировать код на разных языках.

## Что такое документ
- **Документ** — структурированная запись данных с уникальным идентификатором и указанием типа.
- Документ содержит набор полей и метаданных, отражающих его текущее состояние и историю.
- Например, документ типа `Invoice` может включать номер счёта, дату выставления и общую сумму.

## Возможные расширения документа
- **История** — хранение последовательности версий. Например, при каждом обновлении счёта новая версия добавляется в историю, что позволяет восстановить любую правку.
- **Действия** — описывает операции, допустимые для документа: создание, обновление, удаление, а также кастомные действия, такие как `approve` или `cancel`.
- **Файловые вложения** — документ может иметь ссылки на прикреплённые файлы или быть файловым объектом (PDF, DOCX и т.д.).

## Опциональные части описания
Ниже перечислены разделы, которые могут присутствовать в описании типа документа. Их наличие зависит от конкретных требований.

1. **Метаданные** — правила хранения и сроки актуальности.
2. **Поля данных** — перечень обязательных и необязательных атрибутов.
3. **Статусы** — возможные состояния (черновик, согласован, архив и т.п.).
4. **Роли и права** — кто и какие действия может выполнять.
5. **Связи** — ссылки на другие документы или внешние сущности.
6. **Валидации** — проверки корректности данных при сохранении.

## Пример описания в JSON
```json
{
  "name": "Invoice",
  "fields": {
    "number": "string",
    "date": "date",
    "total": "decimal"
  },
  "actions": ["create", "approve", "cancel"],
  "history": true
}
```

Такую структуру можно использовать для генерации классов или схем как в Python, так и на других языках программирования.
